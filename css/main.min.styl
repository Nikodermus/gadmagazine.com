// cd *ruta de la carpeta css*
//pushd *ruta externa de la carpeta css*
// stylus -u nib -w main.styl

@import 'nib'

vendor-prefixes = webkit moz o ms official
gadmblack = #222222
gadmgray = #585858
gadmyellow = #cbb813
title = 'Keep Calm Med'
body = 'Avenir'
master = 1.35rem
master-big = 3rem

//Recommended font sizes
 f12 = 0.75rem
 f16 = 1rem
 f21 = 1.3125rem
 f28 = 1.75rem
 f37 = 2.3125rem
 f50 = 3.1250rem
 f67 = 4.1875rem
 f89 = 5.5625rem
f119 = 7.4375rem
f159 = 9.9375rem

// Generales
@-ms-viewport
    width device-width

html
    box-sizing border-box
    font-size 16px
*
*:after
*:before
    margin 0
    padding 0
    box-sizing inherit
    transition all ease 0.3s
    &:hover
        transition all ease 0.3s
a
a:visited
a:focus
    text-decoration none
    color inherit
    &:hover
        text-decoration none
        color inherit
body
    font-family body, sans-serif
    font-size 1em
    font-weight 300
    width 100%
    max-width 100vw
    color #626262
    background white
h1
h2
h3
h4
h5
h6
    font-weight 700
    margin 0
    padding 0
img 
    width 100%
    max-width 100%
p
    text-align justify
    line-height 2
//Mixins
button-hover(n)
    position relative
    &:after
        content ""
        position absolute
        height 5px
        width 0
        background n
        bottom 0
        left 0
        z-index 10000
        margin auto
    &:hover
        &:after
            width 100%
hover-right()
    &:after
        left initial
        right 0
hover-center()
    &:after
        left inherit
//Animations

@keyframes fadeIn {
  from {
    opacity : 0
  }
  to {
    opacity : 1
  }
}

@keyframes fadeOut {
  from {
    opacity : 1
   
  }
  to {
    opacity : 0
  }
}

@keyframes grow
    0%
        width 0
        height 0
        transform rotate(360deg)
        opacity 0
    40%
        width 130px
        height 130px
    70%
        width 160px
        height 10px
        transform rotate(0deg)
    100%
        height 130px
        width 130px
        
       
@keygrames color
    0%
        fill white
    100%
        fill gadmyellow
        
@keyframes spin
    0%
        transform rotate(360deg)

    100%
        transform rotate(-360deg)
    
        
  
//Special Classes
.bold
    font-weight 700
.f0
    font-size f12 !important
.f1
    font-size f16 !important
.f2
    font-size f21 !important
.f3
    font-size f28 !important
.f4
    font-size f37 !important
.f5
    font-size f50 !important
.f6
    font-size f67 !important
.f7
    font-size f89 !important
.f8
    font-size f119 !important
.f9
    font-size f159 !important
.gray
    color gadmgray
.yellow
    color gadmyellow
.white
    color white
.no-gutter
    padding-left 0
    padding-right 0
.title
    font-family title, sans-serif
    font-weight 900
    text-transform uppercase
.space-left
    padding-left master
.space-right
    padding-right master
.space-top
    padding-top master
.space-bottom
    padding-bottom master
.title-left
    padding-left master-big
.title-right
    padding-right master-big
.title-top
    padding-top master-big
.title-bottom
    padding-bottom master-big
.no-padding
    padding 0
.no-margin
    margin 0
.cover
    position relative
    background-size cover
    background-position center center
    background gadmgray
    &:after
        content ""
        display block
        padding-bottom 144%
    &.cactus
        background-image url('../img/cactus.jpg')        
.square
    position relative
    background gadmgray
    &:after
        content ""
        display block
        padding-bottom 100%
.o-visible
    overflow visible !important
    
//NAV
.nav--container
    nav
        height 4rem
        overflow hidden
        width 100%
        background white
        display flex
        justify-content center
        &.navbar-fixed-top
            z-index 998
        .navbar-brand
            display flex
            max-height 100%
            svg
            img
                width 100px
                .fill
                    fill gadmgray 
                opacity .7
        .menu-icon
            margin-right 15px
            &:hover
                opacity .7
    .nav--open
        background rgba(255, 255, 255, 0.84)
        height 100vh
        width 100vw
        position fixed
        top 0
        left 0
        margin-left 0
        margin-right 0
        transition 0.1s all
        &.nav--show
            z-index 1000
            opacity 0
        &.nav--hidden
            opacity 0
            z-index -1000
        .menu--item
            height calc(100vh / 8)
            text-align center
            display flex
            align-items center
            justify-content center
            button-hover(gadmgray)
            &:hover
                background rgba(255, 255, 255, 0.38)
                cursor pointer
            &:after
                left inherit
            &.no-hover
                cursor default
                &:after
                    display none
                &:hover
                    background transparent
            svg
            img
                width 10rem
                .fill
                    fill gadmgray
            .social-networks
                opacity 0.7
                width 100%
                .social-button
                    button-hover(gadmgray)
                    &.instagram
                        &:after
                            left initial
                            right 0
            .close-menu
                opacity .7
                &:hover
                    opacity 1
    .open-menu
    .close-menu
        cursor pointer
footer
    .row
        border 2px solid gadmgray
        display flex
        a
            width 25%
            button-hover(gadmgray)
        div
            flex-direction column
            padding master 0
// Index
section
    min-height 100vh
    &.revistas
        margin-top 4rem
        .preview
            min-height calc(100vh - 50px)
            display table
            embed 
                height calc(100vh - 50px) !important
                display table-cell
    &.index
        .fold
            height 100vh
            display flex
            > div
                display flex
                flex-direction column
            .video--container
                overflow hidden
                background gadmyellow
                position relative
                z-index 999
                align-content center
                justify-content center

                video
                    height  100vh
                    position absolute
                    left 0
                    z-index -10
                .fold--logo
                    display flex
                    max-width 100%
                    justify-content center
                    svg
                    img
                        .fill
                            fill white
            .text--container
                .slider--container
                    #slider
                        max-width 100%
                        padding-right 2.5rem
                        .slide
                            &.current
                                opacity 1
                        h3
                            padding 0 master
                    .controls
                        .numericControls
                            text-align center
                            li
                                float none
                                display inline-block
                                &.current
                                    a
                                        background gadmgray
                                a
                                    background gray
                                    border none
                                    height 10px
                                    max-width 10px
                                    overflow hidden
                                    padding 0 4px
                                    span
                                        font-size f12
                                        color transparent
                                        position relative
                                        z-index -100
                .button--container
                    .button
                        background gadmblack
                        padding 1rem 0.5rem
                        button-hover(gadmyellow)
                        p
                            margin 0
        .latest
            .latest-magazines
                .cover
                    background-size cover
                    background-position center center
                    &.cactus
                        background-image url('../img/cactus.jpg')
                        
                    span
                        position absolute
                        right master
                        color gadmblack
                        bottom 0
                
                    
                    

            .all-magazines
                .cover-small
                    width 50%
                    margin auto
                    margin-top 25%
    &.ediciones
        height 100%
        margin-bottom 4rem
        .container-fluid
            height 100%
            position relative
            top 4rem
        .current-release
            position fixed
            overflow hidden
            max-height 100%
            left 0
            top 4rem
            .magazine
                background-size cover
                background-position center center
            .current--info
                p.f2
                    letter-spacing 10px
                    margin-bottom 1.2rem
                    line-height 1
                    
            .current--title
                position relative
                left -150%
                z-index 999
                h1
                    letter-spacing 7px
                    line-height 1
            p
                text-align left
        .earlier-release
            overflow scroll
            max-height 100%
            .individual-magazine
                margin-bottom 3rem
                .cover
                    margin-bottom master
                .link
                    button-hover(gray)
                    &.right
                        hover-right()
    &.nosotros
        .fold
            height 100vh
            min-height 100vh
            .container-fluid
                height 100%
                >.row
                    height 100%
            .fold--image
                height 100%
                overflow hidden
                background-size cover
                background-position center center
                background-image url('../img/cactus.jpg')
                background-color yellow
                background-blend-mode multiply 
                
                position relative
                z-index 999
                .fold--logo
                    height 100%
                    display flex
                    justify-content center
                    align-content center
                    //background gadmyellow

                    .logo--container
                        display flex
                        justify-content center
                        align-content center
                        svg
                        img
                            width 100%
                            .fill
                                fill white
            .fold--text
                //padding-top 4rem
                .front
                    position relative
                    z-index 999
                    h2
                        padding-top 2rem
                .link
                    padding-bottom 0.5rem
                    button-hover(gadmgray)
                    &.right
                        hover-right()
        .staff
            .staff--member
                .logo--container
                    svg
                    img
                        text-align center
                        width auto
                        height 3rem
                        margin auto
                        .fill
                            fill gray
    &.contacto
        padding-top 4rem
        .hola--container
            position absolute
            z-index 100
            left master
            p
                background white
                margin-bottom 0
                line-height 1.1
                font-size 6.5vw
                
        .form--container
            margin-top master-big
            padding master
            padding-left 5vw
            border 2px solid gadmgray
            .form
                label
                    width 100%
                    font-weight bolder
                    margin-bottom 0
                    padding-left .5rem
                    &.f0
                        width auto
                        float left
                        position relative
                        top -.5rem
                        padding-right 15px
                textarea
                input
                    width 100%
                    border 0
                    border-bottom 2px solid gadmgray
                    background transparent
                    margin-bottom 1rem
                    outline
                    &[type="submit"]
                        width auto
                        border-bottom 0
                        &:hover
                            opacity .7
                    &[type="checkbox"]
                        width auto
                        float left
                        position relative
                        top -.5rem
                    &:focus
                    &:hover
                        outline 0
                textarea
                    margin-bottom 2rem
                    min-height 0 !important
        
                
                    
            
        
#loader-wrapper
    position fixed
    height 100vh
    width 100vw
    top 0
    left 0
    z-index 9997
    .loader
        display flex
        height 100%
        align-content center
        justify-content center
        .loader-section
            position fixed
            top 0
            width 51vw
            height 100vh
            background gadmblack
            z-index 9998
            &.loader-section--left
                left 0
            &.loader-section--right
                right 0
        svg
            &.triangle
                transform translateY(0)
                transition-duration .6s
                align-self center
                position relative
                z-index 9999
                fill white
                transform-origin 50% 62%
                animation color 0.3s forwards, grow 1s .3s ease forwards, spin 2s 1s ease  infinite 
.loaded
    #loader-wrapper
        .loader
            svg
                width 130px
                height 130px
                animation color 0.3s forwards, grow 1s .3s ease forwards, spin 2s 1s ease  infinite, fadeOut 1s forwards
                transform translateY(100%)
                transition-duration .6s
            .loader-section
                &.loader-section--left
                    transform translateX(-100%)
                    transition all .7s .3s cubic-bezier(0.645, 0.045, 0.355, 1.000)
                &.loader-section--right
                    transform translateX(100%)
                    transition all .7s .3s cubic-bezier(0.645, 0.045, 0.355, 1.000)

            
                    
        
// Media Query
 
@media (min-width: 993px) //Desktop
    .hidden-xl
        display none
       
@media (max-width: 992px) //Mobile 
    .hidden-xs
        display none
    section